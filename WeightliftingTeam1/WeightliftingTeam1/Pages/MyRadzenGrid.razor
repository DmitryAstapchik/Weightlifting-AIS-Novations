@page "/radzengrid"
@using WeightliftingTeam1.Data
@inject AthleteResultService athleteResultService

<div class="container-fluid my-container">
    <div class="row my-row align-items-start">
        <div class="col-md-3 order-md-12  my-col">
            <div class="my-param-container d-flex flex-column">
                <select class="custom-select my-param">
                    <option selected>Type</option>
                    <option value="1">Snatch</option>
                    <option value="2">Clean and jerk</option>
                    <option value="3">Clean and press (excluded from 1973)</option>
                </select>
                <select class="custom-select my-param">
                    <option selected>Period</option>
                    <option value="1">1928 - 1972</option>
                    <option value="2">1973 - 1992</option>
                    <option value="3">1993 - 1997</option>
                    <option value="4">1998 - 2017</option>
                    <option value="4">2018 +</option>
                </select>
                <select class="custom-select my-param">
                    <option selected>Weight category</option>
                    <option value="1">One</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                </select>

                <select class="custom-select my-param">
                    <option selected>Disqualified</option>
                    <option value="1">true</option>
                    <option value="2">false</option>
                </select>

                <div class="buttons d-flex justify-content-between flex-wrap">
                    <button type="button" class="btn btn-outline-secondary " style="margin:2px; width: 90px;">
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                        </svg>
                    </button>
                    <button type="button" class="btn btn-success" style="margin:2px; width: 90px;">

                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-search" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z" />
                            <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <div class="col-md-9 my-col ">
            @if (athleteResults == null)
            {
                <p>Loading...</p>
            }
            else
            {
                <RadzenGrid AllowFiltering="true" FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive" AllowPaging="true" PageSize="4"
                            AllowSorting="true" Data="@athleteResults" TItem="AthleteResult" ColumnWidth="150px">
                    <Columns>
                        <RadzenGridColumn TItem="AthleteResult" Property="Id" Title="Athlete Id"></RadzenGridColumn>
                        <RadzenGridColumn TItem="AthleteResult" Property="FullName" Title="Full Name"></RadzenGridColumn>
                        <RadzenGridColumn TItem="AthleteResult" Property="Nation" Title="Nation"></RadzenGridColumn>
                        <RadzenGridColumn TItem="AthleteResult" Property="Weight" Title="Weight"></RadzenGridColumn>
                        <RadzenGridColumn TItem="AthleteResult" Property="TotalResult" Title="Total"></RadzenGridColumn>
                    </Columns>

                </RadzenGrid>
            }
        </div>
    </div>
</div>

@code {
    IEnumerable<AthleteResult> athleteResults;

    /*Override this method if you will perform an asynchronous operation and want the component to refresh when that operation is completed.*/
    protected override async Task OnInitializedAsync()
    {
        athleteResults = await Task.Run(() => athleteResultService.GetAthleteResults());
    }
}
