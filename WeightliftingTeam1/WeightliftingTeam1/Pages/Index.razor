@page "/"
@using WeightliftingTeam1.Components
@using WeightliftingTeam1.Data
@inject AthleteResultService athleteResultService

@*<h1>Hello, world!</h1>

    Welcome to your new app.

    <SurveyPrompt Title="How is Blazor working for you?" />*@


<div class="text-section">
    The site is dedicated to weightlifting results
</div>

<div class="container-fluid min-vh-70">
    <div class="row my-row align-items-start">
        <div class="col-md-3 order-md-12  my-col">
            <AggregationPanel OnSearchClick="ChangeResultForGrid"></AggregationPanel>
        </div>
        <div class="col-md-9 my-col ">
            <MyTelerikGrid AthleteResults="AthleteResults"></MyTelerikGrid>
        </div>
    </div>
</div>

@code{

    public IEnumerable<AthleteResult> AthleteResults { get; set; }

    protected override async Task OnInitializedAsync()
    {
        AthleteResults = await Task.Run(() => athleteResultService.GetAthleteResults());
    }

    public void ChangeResultForGrid(AggregationPanelInput panelInput)
    {
        Console.WriteLine(panelInput.WeightCategory);
    }
}