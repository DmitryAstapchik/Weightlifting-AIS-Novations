@using WeightliftingTeam1.Data
@using WeightliftingTeam1.ModelsForOutput
@using WeightliftingTeam1.Panels


@switch (PanelType)
{
    case PanelType.Attempts:
        @if (DataForGrids == null)
        {
            <p>Loading Attempts......</p>
        }
        else
        {
            <TelerikGrid Data="@DataForGrids.Attempts" @bind-Page=CurrentPage PageSize=PageSize
                         Height="100%"
                         Pageable="true" Sortable="true" Groupable="false"
                         Resizable="false" Reorderable="true" AutoGenerateColumns="true"
                         Width="100%"
                         OnUpdate="@UpdateHandler" OnEdit="@EditHandler" OnDelete="@DeleteHandler" OnCreate="@CreateHandler" OnCancel="@CancelHandler">
                <GridToolBar>
                    <AuthorizeView>
                        <Authorized>
                            <GridCommandButton Command="Add" Icon="add">Add Item</GridCommandButton>
                        </Authorized>
                    </AuthorizeView>
                    <GridSearchBox />
                </GridToolBar>
                <GridColumns>
                    <GridAutoGeneratedColumns ColumnWidth="110px" />
                    <AuthorizeView>
                        <Authorized>
                            <GridCommandColumn Width="170px">
                                <GridCommandButton Command="Save" Icon="save" ShowInEdit="true">Update</GridCommandButton>
                                <GridCommandButton Command="Edit" Icon="edit">Edit</GridCommandButton>
                                <GridCommandButton Command="Delete" Icon="delete">Delete</GridCommandButton>
                                <GridCommandButton Command="Cancel" Icon="cancel" ShowInEdit="true">Cancel</GridCommandButton>
                            </GridCommandColumn>
                        </Authorized>
                    </AuthorizeView>
                </GridColumns>
            </TelerikGrid>
        }
        break;
    case PanelType.Athletes:
        @if (DataForGrids == null)
        {
            <p>Loading Athletes......</p>
        }
        else
        {
            <TelerikGrid Data="@DataForGrids.Athletes"
                         Height="500px" PageSize="6"
                         Pageable="true" Sortable="true" Groupable="false"
                         Resizable="false" Reorderable="true" AutoGenerateColumns="true"
                         Width="100%"
                         OnUpdate="@UpdateHandler" OnEdit="@EditHandler" OnDelete="@DeleteHandler" OnCreate="@CreateHandler" OnCancel="@CancelHandler">
                <GridToolBar>
                    <AuthorizeView>
                        <Authorized>
                            <GridCommandButton Command="Add" Icon="add">Add Item</GridCommandButton>
                        </Authorized>
                    </AuthorizeView>
                    <GridSearchBox />
                </GridToolBar>
                <GridColumns>
                    <GridAutoGeneratedColumns ColumnWidth="110px" />
                    <AuthorizeView>
                        <Authorized>
                            <GridCommandColumn Width="170px">
                                <GridCommandButton Command="Save" Icon="save" ShowInEdit="true">Update</GridCommandButton>
                                <GridCommandButton Command="Edit" Icon="edit">Edit</GridCommandButton>
                                <GridCommandButton Command="Delete" Icon="delete">Delete</GridCommandButton>
                                <GridCommandButton Command="Cancel" Icon="cancel" ShowInEdit="true">Cancel</GridCommandButton>
                            </GridCommandColumn>
                        </Authorized>
                    </AuthorizeView>
                </GridColumns>
            </TelerikGrid>
        }
        break;
}


@code{
    int CurrentPage { get; set; } = 1;
    int PageSize { get; set; } = 11;
}

<style>
    @@media (max-width: 520px) {
        .k-pager-numbers-wrap {
            display: none;
        }
    }
</style>
